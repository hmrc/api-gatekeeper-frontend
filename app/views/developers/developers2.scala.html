@*
 * Copyright 2019 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import controllers._
@import include._
@import model._
@import utils._

@(users: Seq[User])(implicit loggedInUser: LoggedInUser, messages: Messages, appConfig: config.AppConfig)

@main(title = s"${appConfig.title} - Developers 2") {

<article class="content__body full-width">
    <header>
        <h1>Developers New</h1>
    </header>

 <form name="developers-filters"
       action="@routes.Developers2Controller.developersPage(None).url"
       method="get">
  <input type="hidden" name="page" value="1" />
  <div class="form-group grid-layout grid-layout--stacked push--sides js-visible">

   <div class="grid-layout__column">
    <label class="bold centered-content hard--left label--full-length">
     <span class="label__text bold">Search</span>

     <input class="form-control input--cleared input-select--large full-width"
            name="emailFilter"
            type="text"
            value=""
            placeholder="Partial Email" />
    </label>
   </div>

  </div>

  <div class="form-group grid-layout grid-layout--stacked push--sides">
   <input type="submit" value="Submit" name="main-submit" class="button text--center float--right flush--right" />
  </div>

  <table id="developer-table"
        class="no-footer developer-list"
        width="100%">
  <thead>
  <tr role="row">
   <th tabindex="0" class="sorting_left-aligned">Email</th>
   <th tabindex="0" class="sorting_left-aligned">First name</th>
   <th tabindex="0" class="sorting_left-aligned">Last name</th>
   <th class="text--right hard--right" tabindex="0" data-orderable="false" data-search="false">Status</th>
   <th tabindex="0" class="text--right hard--right sorting_left-aligned">2SV</th>
  </tr>
  </thead>
  <tbody>
  @for((user, index) <- users.zipWithIndex) {
  <tr role="row">
   <td id="dev-email-@index" width="45%"><a href="@{routes.DevelopersController.developerPage(user.email)}">@user.email</a></td>
   <td id="dev-fn-@index">@user.firstName</td>
   <td id="dev-sn-@index">@user.lastName</td>
   <td class="text--right hard--right" id="dev-status-@index">
    @defining(user.status match {
    case VerifiedStatus => ("status status--verified", "verified")
    case UnverifiedStatus => ("status status--not-verified", "not yet verified")
    case UnregisteredStatus => ("status status--not-verified", "not registered")
    }) { case(cssStyle, text) => <span class="@cssStyle">@text</span> }
   </td>
   <td id="dev-mfaEnabled-@index" class="text--right hard--right" width="8%">
    @(user.mfaEnabled match {
    case true => "Yes"
    case false => "No"
    })
   </td>
  </tr>
  }
  </tbody>
 </table>

 </form>
</article>

}